(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{WvYF:function(e,t,a){e.exports={menus:"menus___JPpj2",menusItem:"menusItem___35Ejy"}},bsDN:function(e,t,a){e.exports={menu:"menu___3fMWW",right:"right___2CMz5",action:"action___3ut1O",search:"search___3FPts",account:"account___1r_Ku",avatar:"avatar___1Rx79",dark:"dark___1zu9O"}},maEh:function(e,t,a){"use strict";a.r(t);var n=a("0Owb"),r=a("tJVT"),o=a("k1fw"),c=a("Hx5s"),l=a("q1tI"),u=a.n(l),s=a("9kvl"),i=a("55Ip"),p=a("HZnN"),m=(a("miYZ"),a("tsqr")),f=(a("+BJd"),a("mr32")),g=a("WmNS"),h=a.n(g),b=a("9og8"),d=a("bsDN"),v=a.n(d),_=(a("vDqi"),function(e,t){return new Promise(function(){var e=Object(b["a"])(h.a.mark((function e(t,a){return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t({})}catch(n){a()}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}),y=function(e){var t=e.theme,a=e.layout,n=e.roleType,r=e.dispatch,o=e.userInfo,c=e.refreshState;v.a.right;return"dark"===t&&"top"===a&&"".concat(v.a.right,"  ").concat(v.a.dark),Object(l["useEffect"])((function(){var e=localStorage.getItem("nickName"),t=localStorage.getItem("role"),a=localStorage.getItem("whiffkgjdf"),n=localStorage.getItem("avatarUrl");e&&r({type:"global/setUserInfo",userInfo:{id:a,nickName:e,role:t,avatarUrl:n}})}),[]),Object(l["useEffect"])((function(){function e(){return t.apply(this,arguments)}function t(){return t=Object(b["a"])(h.a.mark((function e(){var t;return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_("/api/shidi/role");case 2:t=e.sent,r({type:"global/setUserInforole",role:t});case 4:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}o.id&&1==o.role&&e()}),[c]),u.a.createElement("span",null,u.a.createElement(f["a"],{color:"volcano",onClick:function(){r({type:"global/setRefresh"})}},"\u5237\u65b0"),o.nickName?u.a.createElement(u.a.Fragment,null,2==o.role?u.a.createElement("input",{className:"weui-switch",style:{position:"relative",top:"10px"},type:"checkbox",value:!n,onChange:function(){r({type:"global/changeRoleType",roleType:!n})}}):null,u.a.createElement("span",{style:{color:n?"#09331f":"#624",margin:"0 10px 0 5px"}},n?"\u5185\u90e8\u7248":"\u5916\u90e8\u7248"),u.a.createElement(f["a"],{color:"geekblue"},u.a.createElement("a",{onClick:Object(b["a"])(h.a.mark((function e(){return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("/api/shidi/logout");case 3:m["b"].success("\u9000\u51fa\u6210\u529f"),window.location.reload(),localStorage.setItem("whiffkgjdf",""),localStorage.setItem("vcmbmk",""),localStorage.setItem("lou_fang",""),localStorage.setItem("lou_num",""),localStorage.setItem("lou_qu",""),localStorage.setItem("lou_type",""),localStorage.setItem("nickName",""),localStorage.setItem("avatarUrl",""),localStorage.setItem("type",""),localStorage.setItem("role",""),r({type:"global/changeRoleType",roleType:!1}),r({type:"global/setUserInfo",userInfo:{}}),e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](0);case 21:case"end":return e.stop()}}),e,null,[[0,19]])})))},"\u9000\u51fa"))):u.a.createElement(f["a"],{color:"geekblue"},u.a.createElement(i["a"],{to:"/account"},"\u767b\u5f55\u6ce8\u518c")))},k=Object(s["a"])((function(e){var t=e.global,a=e.settings;return{roleType:t.roleType,theme:a.navTheme,layout:a.layout,userInfo:t.userInfo,refreshState:t.refreshState}}))(y),I=a("tkAB"),w=a.n(I),j=(a("1oaW"),a("v++Q"),a("WvYF"),a("BUDJ"),a("eDds"),function e(t){return t.map((function(t){var a=Object(o["a"])(Object(o["a"])({},t),{},{children:t.children?e(t.children):void 0});return p["a"].check(t.authority,a,null)}))}),E=function(e,t){return u.a.createElement(u.a.Fragment,null)},S=function(e){var t=e.dispatch,a=e.children,o=e.settings,p=e.location,m=void 0===p?{pathname:"/"}:p,f=Object(l["useRef"])([]),g=function(e){t&&t({type:"global/changeLayoutCollapsed",payload:e})},h=Object(l["useState"])(0),b=Object(r["a"])(h,2),d=b[0],v=b[1];return Object(l["useEffect"])((function(){v({"/push":1,"/":0,"/list":2,"/account":3}[m.pathname])}),[m.pathname]),u.a.createElement(c["a"],Object(n["a"])({logo:w.a,onCollapse:g,onMenuHeaderClick:function(){return s["b"].push("/")},itemRender:function(e,t,a,n){var r=0===a.indexOf(e);return r?u.a.createElement(i["a"],{to:n.join("/")},e.breadcrumbName):u.a.createElement("span",null,e.breadcrumbName)},footerRender:function(){return E(d,(function(e){return s["b"].push(e)}))},menuDataRender:j,rightContentRender:function(){return u.a.createElement(k,null)},postMenuData:function(e){return f.current=e||[],e||[]}},e,o),a)};t["default"]=Object(s["a"])((function(e){var t=e.global,a=e.settings;return{collapsed:t.collapsed,settings:a}}))(S)},tkAB:function(e,t,a){e.exports=a.p+"static/logo.5e8304ce.jpg"}}]);